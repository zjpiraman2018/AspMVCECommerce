@model IEnumerable<AspMVCECommerce.Models.Product>

<table  class="table table-bordered table-responsive table-striped">
    <tbody>
        @{
            var productIndex = 0;
        }
        <tr></tr>
        <tr>
            <td style="width:200px;"></td>
            @foreach (var item in Model)
            {
                productIndex += 1;

                if (productIndex == 1)
                {
                    <!-- index 1 -->
        <th style="position:relative;">
            <div class="a-row a-spacing-top-micro">
                <div style="width: 180px; height: 200px;  margin: auto; ">
                    @if (item.Images.Count > 0)
                    {

                        var itemImages = item.Images;

                        foreach (var itemImage in itemImages)
                        {
                            if (itemImage.Default)
                            {
                                <img style="width: 100%; height: 180px; object-fit: scale-down;" src="@Url.Content(itemImage.ImagePath)" alt="@itemImage.Title">

                                break;
                            }
                        }
                    }

                </div>
            </div>
            <div class="a-row a-spacing-top-small" style="margin-bottom: 65px !important;">
                <a href="/Home/Product?productId=@(item.ProductId)&selectedNavCategory=@ViewBag.SelectedNavCategory" class="product-name" title="@item.Name">@item.Name</a>

                <div class="product-details" style="width: 100%; margin-bottom: 15px !important; margin-top: 20px; bottom: 0px; position: absolute; ">
                    <div class="add-to-cart" style="margin: auto; width: 100%; display: flex;  font-size: 12px !important; ">

                        @if (Request.IsAuthenticated)
                        {

                            if (User.IsInRole("Customer"))
                            {
                                <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="GetProductDetails(@(item.ProductId));"><i class="fa fa-shopping-cart"></i> add to cart</button>
                            }
                            else
                            {
                                <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="location.href='/Account/Login'"><i class="fa fa-shopping-cart"></i> add to cart</button>
                            }
                        }
                        else
                        {
                            <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="location.href='/Account/Login'"><i class="fa fa-shopping-cart"></i> add to cart</button>
                        }
                        @*<button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="GetProductDetails(@(item.ProductId));"><i class="fa fa-shopping-cart"></i> add to cart</button>*@
                    </div>
                </div>
            </div>
        </th>
                }


                <!-- index 2 -->
                if (productIndex == 2)
                {

        <th style="position:relative;">
            <div class="a-row a-spacing-top-micro">
                <div style="width: 180px; height: 200px;  margin: auto; ">
                    @if (item.Images.Count > 0)
                    {

                        var itemImages = item.Images;

                        foreach (var itemImage in itemImages)
                        {
                            if (itemImage.Default)
                            {
                                <img style="width: 100%; height: 180px; object-fit: scale-down;" src="@Url.Content(itemImage.ImagePath)" alt="@itemImage.Title">

                                break;
                            }
                        }
                    }

                </div>
            </div>
            <div class="a-row a-spacing-top-small" style="margin-bottom: 65px !important;">
                <a href="/Home/Product?productId=@(item.ProductId)&selectedNavCategory=@ViewBag.SelectedNavCategory" class="product-name" title="@item.Name">@item.Name</a>

                <div class="product-details" style="width: 100%; margin-bottom: 15px !important; margin-top: 20px; bottom: 0px; position: absolute; ">
                    <div class="add-to-cart" style="margin: auto; width: 100%; display: flex;  font-size: 12px !important; ">
                        @if (Request.IsAuthenticated)
                        {
                            if (User.IsInRole("Customer"))
                            {
                                <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="GetProductDetails(@(item.ProductId));"><i class="fa fa-shopping-cart"></i> add to cart</button>
                            }
                            else
                            {
                                <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="location.href='/Account/Login'"><i class="fa fa-shopping-cart"></i> add to cart</button>
                            }

                        }
                        else
                        {
                            <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="location.href='/Account/Login'"><i class="fa fa-shopping-cart"></i> add to cart</button>

                        }

                        @*<button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="GetProductDetails(@(item.ProductId));"><i class="fa fa-shopping-cart"></i> add to cart</button>*@
                    </div>
                </div>
            </div>
        </th>
                }

                <!-- index 3 -->
                if (productIndex == 3)
                {

        <th style="position:relative;">
            <div class="a-row a-spacing-top-micro">
                <div style="width: 180px; height: 200px;padding:5px; margin: auto;">
                    @if (item.Images.Count > 0)
                    {

                        var itemImages = item.Images;

                        foreach (var itemImage in itemImages)
                        {
                            if (itemImage.Default)
                            {
                                <img style="width: 100%; height: 180px; object-fit: scale-down;" src="@Url.Content(itemImage.ImagePath)" alt="@itemImage.Title">

                                break;
                            }
                        }
                    }

                </div>
            </div>
            <div class="a-row a-spacing-top-small" style="margin-bottom: 65px !important;">
                <a href="/Home/Product?productId=@(item.ProductId)&selectedNavCategory=@ViewBag.SelectedNavCategory" class="product-name" title="@item.Name">@item.Name</a>

                <div class="product-details" style="width: 100%; margin-bottom: 15px !important; margin-top: 20px; bottom: 0px; position: absolute; ">
                    <div class="add-to-cart" style="margin: auto; width: 100%; display: flex;  font-size: 12px !important; ">
                        @if (Request.IsAuthenticated)
                        {
                            if (User.IsInRole("Customer"))
                            {
                                <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="GetProductDetails(@(item.ProductId));"><i class="fa fa-shopping-cart"></i> add to cart</button>
                            }
                            else
                            {
                                <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="location.href='/Account/Login'"><i class="fa fa-shopping-cart"></i> add to cart</button>
                            }

                        }
                        else
                        {
                            <button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="location.href='/Account/Login'"><i class="fa fa-shopping-cart"></i> add to cart</button>

                        }
                        @*<button style="margin: auto; height: 35px !important;" class="add-to-cart-btn" onclick="GetProductDetails(@(item.ProductId));"><i class="fa fa-shopping-cart"></i> add to cart</button>*@
                    </div>
                </div>
            </div>
        </th>
                }
                <!-- index 4 -->


            }
        </tr>


        <tr id="comparison_custormer_rating_row">
            <th> Customer Rating</span> </th>
            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;
                if (productIndex == 1)
                {
                    <td style="background-color: #ffe;">
                        <div class="product-rating">
                            @if (item.AverageRating != null)
                            {
                                for (int i = 0; i < item.AverageRating; i++)
                                {
                                    <i style=" background: #FFF; color: #ef233c;" class="fa fa-star"></i>
                                }

                                for (int i = 0; i < 5 - item.AverageRating; i++)
                                {
                                    <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                }
                            }
                            else
                            {
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                            }
                        </div>
                    </td>
                }

                if (productIndex == 2)
                {
                    <td>
                        <div class="product-rating">
                            @if (item.AverageRating != null)
                            {
                                for (int i = 0; i < item.AverageRating; i++)
                                {
                                    <i style=" background: #FFF; color: #ef233c;" class="fa fa-star"></i>
                                }

                                for (int i = 0; i < 5 - item.AverageRating; i++)
                                {
                                    <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                }
                            }
                            else
                            {
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                            }
                        </div>
                    </td>
                }

                if (productIndex == 3)
                {
                    <td>
                        <div class="product-rating">
                            @if (item.AverageRating != null)
                            {
                                for (int i = 0; i < item.AverageRating; i++)
                                {
                                    <i style=" background: #FFF; color: #ef233c;" class="fa fa-star"></i>
                                }

                                for (int i = 0; i < 5 - item.AverageRating; i++)
                                {
                                    <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                }
                            }
                            else
                            {
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                                <i style=" background: #FFF; color: #E4E7ED;" class="fa fa-star-o"></i>
                            }
                        </div>
                    </td>
                }


            }
        </tr>
        <tr id="comparison_price_row">
            <th> Price</span> </th>
            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;
                if (productIndex == 1)
                {
                    <td style="background-color: #ffffde;">
                        @if (item.PromoSaleOFF > 0)
                        {
                            if (DateTime.Now >= item.PromoSaleStartDateTime && DateTime.Now <= item.PromoSaleEndDateTime)
                            {

                                <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.DiscountedPrice).ToString("#,##0.00") <del style="font-size: 12px;font-weight: 400;color: #8D99AE;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</del></h4>
                            }
                            else
                            {
                                <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</h4>
                            }
                        }
                        else
                        {
                            <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</h4>
                        }
                    </td>
                }

                if (productIndex == 2)
                {
                    <td>
                        @if (item.PromoSaleOFF > 0)
                        {
                            if (DateTime.Now >= item.PromoSaleStartDateTime && DateTime.Now <= item.PromoSaleEndDateTime)
                            {

                                <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.DiscountedPrice).ToString("#,##0.00") <del style="font-size: 12px;font-weight: 400;color: #8D99AE;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</del></h4>

                            }
                            else
                            {
                                <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</h4>
                            }
                        }
                        else
                        {
                            <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</h4>
                        }
                    </td>
                }

                if (productIndex == 3)
                {
                    <td>
                        @if (item.PromoSaleOFF > 0)
                        {
                            if (DateTime.Now >= item.PromoSaleStartDateTime && DateTime.Now <= item.PromoSaleEndDateTime)
                            {

                                <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.DiscountedPrice).ToString("#,##0.00") <del style="font-size: 12px;font-weight: 400;color: #8D99AE;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</del></h4>
                            }
                            else
                            {
                                <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</h4>
                            }
                        }
                        else
                        {
                            <h4 style="color: #D10024;font-size:14px;">₱@Convert.ToDecimal(item.OriginalPrice).ToString("#,##0.00")</h4>
                        }
                    </td>
                }


            }
        </tr>
        <tr id="comparison_sold_by_row">
            <th role="rowheader"> Sold By</span> </th>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;

                if (productIndex == 1)
                {
                    <td style="background-color: #ffe;"><a>@item.Brand.Name</a>   </td>
                }


                if (productIndex == 2)
                {
                    <td><a>@item.Brand.Name</a>   </td>
                }

                if (productIndex == 3)
                {
                    <td><a>@item.Brand.Name</a>   </td>
                }


            }
        </tr>

        <tr>
            <td style="font-weight:600;"><span>Display</span></td>
            <td style="background-color: #ffffde;"><span>7"</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;

                if (productIndex == 2)
                {
                    <td><span>8" HD</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>10.1" 1080p full HD</span></td>
                }
            }

        </tr>
        <tr>
            <td style="font-weight:600;"><span>Resolution</span></td>
            <td style="background-color: #ffe;"><span>1024 x 600 (171 ppi)</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>1280 x 800 (189 ppi)</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>1920 x 1200 (224 ppi)</span></td>
                }
            }


        </tr>
        <tr>
            <td style="font-weight:600;"><span>Storage</span></td>
            <td style="background-color: #ffffde;"><span>16 or 32 GB (expandable by up to 512 GB)</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>16 or 32 GB (expandable by up to 400 GB)</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>32 or 64 GB (expandable by up to 512 GB)</span></td>
                }
            }


        </tr>
        <tr>
            <td style="font-weight:600;"><span>CPU</span></td>
            <td style="background-color: #ffe;"><span>Quad-core 1.3 GHz</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>Quad-core 1.3 GHz</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>Octa-core 2.0 GHz</span></td>
                }
            }


        </tr>
        <tr>
            <td style="font-weight:600;"><span>RAM</span></td>
            <td style="background-color: #ffffde;"><span>1 GB</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>1.5 GB</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>2 GB</span></td>
                }

            }


        </tr>
        <tr>
            <td style="font-weight:600;"><span>Battery life</span></td>
            <td style="background-color: #ffe;"><span>Up to 7 hours</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>Up to 10 hours</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>Up to 12 hours</span></td>
                }


            }


        </tr>
        <tr>
            <td style="font-weight:600;"><span>Ports</span></td>
            <td style="background-color: #ffffde;"><span>micro-USB (2.0)</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>micro-USB (2.0)</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>USB-C (2.0)</span></td>
                }


            }


        </tr>
        <tr>
            <td style="font-weight:600;"><span>Audio</span></td>
            <td style="background-color: #ffe;"><span>Mono speaker</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>Dual speakers</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>Dual speakers</span></td>
                }
            }


        </tr>
        <tr>
            <td style="font-weight:600;"><span>Dolby Atmos</span></td>
            <td style="background-color: #ffffde;"></td>


            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><img alt="check mark" src="~/images/check.png" style="width: 25px; height: 20px;"></td>
                }

                if (productIndex == 3)
                {
                    <td><img alt="check mark" src="~/images/check.png" style="width: 25px; height: 20px;"></td>
                }
            }

        </tr>
        <tr>
            <td style="font-weight:600;"><span>Hands-free with Alexa</span></td>
            <td style="background-color: #ffe;"><img alt="check mark" src="~/images/check.png" style="width: 25px; height: 20px;"></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><img alt="check mark" src="~/images/check.png" style="width: 25px; height: 20px;"></td>
                }

                if (productIndex == 3)
                {
                    <td><img alt="check mark" src="~/images/check.png" style="width: 25px; height: 20px;"></td>
                }
            }

        </tr>
        <tr>
            <td style="font-weight:600;"><span>Show Mode (full screen Alexa experience)</span></td>
            <td style="background-color: #ffffde;"></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><img alt="check mark" src="~/images/check.png" style="width: 25px; height: 20px;"></td>
                }

                if (productIndex == 3)
                {
                    <td><img alt="check mark" src="~/images/check.png" style="width: 25px; height: 20px;"></td>
                }

            }



        </tr>
        <tr>
            <td style="font-weight:600;"><span>Warranty and service</span></td>
            <td style="background-color: #ffe;"><span>90-day limited warranty</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>90-day limited warranty</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>1-year limited warranty</span></td>
                }
            }

        </tr>
        <tr>
            <td style="font-weight:600;"><span>Camera</span></td>
            <td style="background-color: #ffffde;"><span>2 MP front and rear-facing</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>2 MP front and rear-facing</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>2 MP front and rear-facing</span></td>
                }
            }



        </tr>
        <tr>
            <td style="font-weight:600;"><span>Weight</span></td>
            <td style="background-color: #ffe;"><span>10.1 oz (286 g)</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>12.8 oz (363 g)</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>17.8 oz (504 g)</span></td>
                }
            }

        </tr>
        <tr>
            <td style="font-weight:600;"><span>Dimensions</span></td>
            <td style="background-color: #ffffde;"><span>7.6" x 4.5" x 0.4" (192 mm x 115 mm x 9.6 mm)</span></td>

            @{ productIndex = 0; }
            @foreach (var item in Model)
            {
                productIndex += 1;


                if (productIndex == 2)
                {
                    <td><span>8.4" x 5.0" x 0.4" (214 mm x 128 mm x 9.7 mm)</span></td>
                }

                if (productIndex == 3)
                {
                    <td><span>10.3" x 6.3" x 0.4" (262 mm x 159 mm x 9.8 mm)</span></td>
                }
            }
        </tr>
    </tbody>
</table>